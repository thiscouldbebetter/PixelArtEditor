<html>
<body>

<h3>Pixel Art Editor</h3>

<p>Click on a region in the tileset image to edit it in magified mode.</p>

<div id="divMain">

	<div id="divSize">

		<label>Tileset Image:</label>
		<br />

		<div id="divImageTileset"></div>

		<div id="divFileOperations">
			<label>Load:</label>
			<input type="file" onchange="Session.Instance().inputFileToLoad_Changed(this);"></input>
			<button onclick="Session.Instance().buttonSave_Clicked();">Save</button>
		</div>

		<div>
			<label>Sizes:</label>
			<button onclick="Session.Instance().buttonSizeChange_Clicked();">Update</button>
			<br />

			<label>Tile Size in Pixels:</label>
			<input id="inputTileSizeInPixelsX" type="number" value="16" style="width:64px"></input>
			<label>x</label>
			<input id="inputTileSizeInPixelsY" type="number" value="16" style="width:64px"></input>
			<br />

			<label>Image Size in Tiles:</label>
			<input id="inputImageSizeInTilesX" type="number" value="4" style="width:64px"></input>
			<label>x</label>
			<input id="inputImageSizeInTilesY" type="number" value="4" style="width:64px"></input>
			<br />

			<div>
				<label>Resize:</label>
				<button onclick="Session.Instance().buttonResizeDouble_Clicked();">Double</button>
				<button onclick="Session.Instance().buttonResizeHalf_Clicked();">Half</button>
			</div>
		</div>

		<label>Tile Selected:</label>
		<br />

		<label>Offset in Tiles:</label>
		<input id="inputTileSelectedPosInTilesX" type="number" value="0" style="width:64px" disabled></input>
		<label>x</label>
		<input id="inputTileSelectedPosInTilesY" type="number" value="0" style="width:64px" disabled></input>
		<br />

		<label>Magnification Factor:</label>
		<input id="inputMagnificationFactor" type="number" style="width:64px" value="16"></input>
		<br />

		<label>Shift Pixels:</label>
		<button onclick="Session.Instance().buttonShiftPixelsLeft_Clicked();">Left</button>
		<button onclick="Session.Instance().buttonShiftPixelsUp_Clicked();">Up</button>
		<button onclick="Session.Instance().buttonShiftPixelsDown_Clicked();">Down</button>
		<button onclick="Session.Instance().buttonShiftPixelsRight_Clicked();">Right</button>

	</div>

	<label>Tile Image:</label>
	<div id="divTileSelected">[none]</div>

	<div id="divTools">
		<label>Tool:</label>
		<select id="selectTool" onchange="Session.Instance().selectTool_Changed(this);">
			<option selected="true">Paint Pixel</option>
			<option>Erase</option>
			<option>Extract Color</option>
			<option>Flood Fill</option>
			<option>ERASE ENTIRE TILE</option>
			<option>PAINT ENTIRE TILE</option>
		</select>
	</div>

	<div id="divColors">

		<label>Color Selected:</label>
		<button id="buttonColorSwatch" style="background-color:Black">&nbsp;</button>

		<button onclick="Session.Instance().buttonColorSelectedAddToPalette_Clicked();">Add to Palette</button>

		<div>
			<button onclick="Session.Instance().buttonColorFromRGB_Clicked();">Set From:</button>
			<label>Red:</label>
			<input id="inputColorRed" type="number" value="128" style="width:48px"></input>
			<label>/255</label>
			<label>Green:</label>
			<input id="inputColorGreen" type="number" value="128" style="width:48px"></input>
			<label>/255</label>
			<label>Blue:</label>
			<input id="inputColorBlue" type="number" value="128" style="width:48px"></input>
			<label>/255</label>
			<label>Opacity:</label>
			<input id="inputColorAlpha" type="number" value=".5" style="width:48px"></input>
			<label>/1</label>
		</div>

		<div>
			<label>Color Palette:</label>
			<button onclick="Session.Instance().buttonPaletteExtract_Clicked();">Extract from Image</button>
			<button onclick="Session.Instance().buttonPaletteReset_Clicked();">Reset</button>
			<button onclick="Session.Instance().buttonPaletteClear_Clicked();">Clear</button>
			<div id="divColorsPredefined"></div>
		</div>
	</div>

</div>

<script type="text/javascript" src="Color.js"></script>
<script type="text/javascript" src="Coords.js"></script>
<script type="text/javascript" src="Display.js"></script>
<script type="text/javascript" src="Session.js"></script>
 
<script type="text/javascript">
  
function main()
{ 
	Session.Instance().initialize();
}
 
main();
 
</script>
 
</body>
</html>
